<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown编辑器</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- EasyMDE CSS -->
    <link rel="stylesheet" href="css/easymde.min.css">
    <!-- Highlight.js CSS -->
    <link rel="stylesheet" href="css/github.min.css" id="hljs-theme">
</head>
<body>
    <div class="app-container">
        <!-- 顶部工具栏 -->
        <header class="toolbar">
            <div class="toolbar-left">
                <h1>Markdown编辑器</h1>
            </div>
            <div class="toolbar-center">
                <div class="formatting-buttons">
                    <button id="btn-bold" title="粗体 (Ctrl+B)">B</button>
                    <button id="btn-italic" title="斜体 (Ctrl+I)">I</button>
                    <button id="btn-strikethrough" title="删除线">S</button>
                    <button id="btn-heading" title="标题">H</button>
                    <button id="btn-quote" title="引用">"</button>
                    <button id="btn-unordered-list" title="无序列表">•</button>
                    <button id="btn-ordered-list" title="有序列表">1.</button>
                    <button id="btn-checklist" title="任务列表">☑</button>
                    <button id="btn-link" title="链接">🔗</button>
                    <button id="btn-image" title="图片">🖼</button>
                    <button id="btn-table" title="表格">▦</button>
                    <button id="btn-code" title="代码">&lt;/&gt;</button>
                </div>
                <div class="toolbar-group">
                    <label>排版主题:</label>
                    <select id="preview-theme">
                        <option value="default">默认</option>
                        <option value="mohei">墨黑</option>
                        <option value="chazi">姹紫</option>
                        <option value="jinbi">金钱蓝</option>
                        <option value="lvyi">绿意</option>
                        <option value="hongying">红绯</option>
                        <option value="lanqing">兰青</option>
                        <option value="keji">科技蓝</option>
                    </select>
                        <button id="toggle-css-editor" title="开启CSS编辑器">编辑CSS</button>

                </div>
            </div>
            <div class="toolbar-right">
                <button id="btn-save" title="保存">保存</button>
                <button id="btn-import" title="导入">导入</button>
                <button id="btn-export" title="导出">导出</button>
                <button id="btn-theme" title="主题切换">主题</button>
                <button id="btn-clear" title="清空编辑器">清空</button>
                <input type="file" id="file-input" accept=".md" style="display: none;">
            </div>
        </header>

        <!-- 主编辑区域 -->
        <main class="editor-container">
            <!-- EasyMDE 编辑器 -->
            <div class="editor-wrapper" style="flex: 1;">
                <textarea id="markdown-input"></textarea>
            </div>

            <!-- 右侧预览区 -->
            <div class="preview-panel" style="flex: 1;">
                <div class="preview-content" id="preview-output"></div>
            </div>
        </main>

        <!-- 底部状态栏 -->
        <footer class="status-bar">
            <div class="status-left">
                <span id="save-status">未保存</span>
                <span id="autosave-status" style="margin-left: 10px;"></span>
            </div>
            <div class="status-right">
                <span id="cursor-position">行: 1, 列: 1</span>
                <span id="word-count">字数: 0</span>
                <span id="line-count">行数: 0</span>
                <span>Markdown编辑器 v2.0 (EasyMDE)</span>
            </div>
        </footer>
    </div>

    <!-- 导出对话框 -->
    <div id="export-modal" class="modal">
        <div class="modal-content">
            <h3>导出文件</h3>
            <div class="export-options">
                <button id="export-md">导出为.md</button>
                <button id="export-html">导出为.html</button>
                <button id="export-pdf">导出为.pdf</button>
            </div>
            <button id="close-export" class="modal-close">关闭</button>
        </div>
    </div>

    <!-- CSS编辑侧边栏 -->
    <div id="css-sidebar" class="sidebar">
        <div class="sidebar-header">
            <h3>CSS编辑器</h3>
            <button id="close-sidebar" class="sidebar-close">&times;</button>
        </div>
        <div class="sidebar-content">
            <div class="theme-option">
                <label>主题名称:</label>
                <input type="text" id="custom-theme-name" placeholder="请输入主题名称">
            </div>
            <div class="theme-option">
                <label>自定义CSS:</label>
                <textarea id="custom-theme-css" placeholder="请输入完整的CSS样式，可参考示例样式" rows="30"></textarea>
            </div>
        </div>
        <div class="sidebar-footer">
            <button id="custom-theme-delete" class="sidebar-button" style="display: none; background-color: #d73a49; color: white; border-color: #d73a49;">删除主题</button>
            <button id="custom-theme-cancel" class="sidebar-button">取消</button>
            <button id="custom-theme-save" class="sidebar-button primary">保存主题</button>
        </div>
    </div>

    <!-- 第三方库 -->
    <script src="js/easymde.min.js"></script>
    <script src="js/highlight.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>